# Kodi games database

A design for the Kodi games database. When this document is finished I will post it in the Kodi forum. Get inspiration from the Kodi Music Database in the Kodi wiki.

## Previous work

### Advanced Emulator Launcher

AEL gives total freedom for platform artwork. Each asset can be set on its own.

ROMs artwork are stored on a dedicated folders, each class of artwork in a subfolder there.

### Advanced MAME Launcher

AML uses a fixed set of directory names to store assets.

### EmulationStation themes

EmulationStation differentiates between **scraping platform** and **theme platform**. The scraping platform must be from the [official platform list names](https://github.com/RetroPie/EmulationStation/blob/master/es-app/src/PlatformId.cpp). The theme platform name is arbitrary, however all EmulationStation use the same names to keep compatibility among themes. The ES platform names are short names, for example `nes`, `genesis`, `megadrive`, `scummvm`, `cavestory`.

```
~/theme.xml
~/arcade/theme.xml
~/arcade/art/controller.svg
~/arcade/art/system.svg
~/genesis/theme.xml
~/genesis/art/controller.svg
~/genesis/art/system.svg
```

### Kodi Music Database

Kodi Music uses the **Artist information folder**.

### Kodi music graphical interface

**MyMusicNav.xml**

With an empty database.

```
Playlists     -> Opens MyMusicNav.xml
Sources       -> Opens MyMusicNav.xml
Files         -> Opens MyMusicNav.xml, inside there is "Add music..." that opens DialogMediaSource.xml
Music add-ons -> Opens MyMusicNav.xml
```

Music settings (complete).

## Type of game users

**Casual user**

This user has a few games only. Possibly all the ROMs are in a single directory.

```
/home/user/ROMs/dino.zip
/home/user/ROMs/qsound_hle.zip
/home/user/ROMs/Sonic The Hedgehog 3 (Europe).zip
/home/user/ROMs/Super Mario All-Stars and Super Mario World (Europe).zip
```

**Amateur user**

Has several platforms and possibly multiple games of each platform. ROMs of the same platform are separated into directories.

```
/home/user/ROMs/mame/dino.zip
/home/user/ROMs/mame/qsound_hle.zip
/home/user/ROMs/sega-megadrive/Sonic The Hedgehog 3 (Europe).zip
/home/user/ROMs/nintendo-snes/Super Mario All-Stars and Super Mario World (Europe).zip
```

**Advanced user**

Has full No-Intro and/or MAME romsets. Layout of ROMs is same as the amateur user. ROMs of the same platform are separated into directories.

## Game sources and platform names

Game sources have the associated platform property. If a game source directory has mixed ROMs (casual user) then the platform name is `unknown`.


## Game artwork model

## Scanning for platform artwork

 * If the **platform information directory** is set AEL will search for platform artwork there.

```
<pid>/<pname>/<pname>.nfo
<pid>/<pname>/banner.png
<pid>/<pname>/clearlogo.png
<pid>/<pname>/controller.png -> Picture of controller.
<pid>/<pname>/fanart.png
<pid>/<pname>/media.png      -> Picture of cartridge, CD, etc.
<pid>/<pname>/icon.png
<pid>/<pname>/poster.png
<pid>/<pname>/system.png     -> Picture of the system, SS picture or illustration.
```

 * If the platform information directory is not set...

## ROMs asset directory

All ROMs belonging to the same platform share the artwork.

What to do with MAME and No-Intro?

```
<rad>/<pname>/3dboxes/<ROM_name>.png    -> Could be autogenerated with an XML template.
<rad>/<pname>/banners/<ROM_name>.png
<rad>/<pname>/bezel/<ROM_name>.png      -> New. Should be included?
<rad>/<pname>/boxbacks/<ROM_name>.png
<rad>/<pname>/boxfront/<ROM_name>.png
<rad>/<pname>/boxspine/<ROM_name>.png   -> New.
<rad>/<pname>/boxtexture/<ROM_name>.png -> New. Could be autogenerated with an XML template.
<rad>/<pname>/cartridges/<ROM_name>.png
<rad>/<pname>/clearlogos/<ROM_name>.png
<rad>/<pname>/fanarts/<ROM_name>.png    -> Could be autogenerated with an XML template.
<rad>/<pname>/flyers/<ROM_name>.png     -> Shold be renamed to posters?
<rad>/<pname>/manuals/<ROM_name>.png
<rad>/<pname>/maps/<ROM_name>.png
<rad>/<pname>/snaps/<ROM_name>.png
<rad>/<pname>/titles/<ROM_name>.png
<rad>/<pname>/trailers/<ROM_name>.png
```

## Game settings

 * **Platform Information directory** If set it will be used to scan for artwork and saving scraped artwork. If not set, platform artwork can point to individual files. AEL can use a default internal directory.

 * **Platform artwork naming scheme** Choose from `Long name`, `Short name`, `Compact name`.

 * **Recursive scan for ROMs**

 * **ROM asset directory** 

 * **ROM asset platform naming scheme** Choose from `Long name`, `Short name`, `Compact name`.

 * **Place artwork next to ROMs**

## Kodi game graphical interface

**MyGames.xml**

```
Game add-ons -> Opens MyGames.xml
Add games... -> Opens DialogMediaSource.xml
```

## References

[KW: HOW-TO:Create Music Library](https://kodi.wiki/view/HOW-TO:Create_Music_Library)

[KF: when will the games database will be integrated into kodi](https://forum.kodi.tv/showthread.php?tid=343159)

[KF: Games artwork](https://forum.kodi.tv/showthread.php?tid=342558)

[KF: (Guide) Getting Started with Kodi Retroplayer](https://forum.kodi.tv/showthread.php?tid=340684&pid=2841688#pid2841688)

[KF: Advanced Emulator Launcher](https://forum.kodi.tv/showthread.php?tid=287826)

[Retropie EmulationStation](https://github.com/RetroPie/EmulationStation)

[Retropie es-theme-carbon](https://github.com/RetroPie/es-theme-carbon)

[Batocera batocera-themes](https://github.com/batocera-linux/batocera-themes)
